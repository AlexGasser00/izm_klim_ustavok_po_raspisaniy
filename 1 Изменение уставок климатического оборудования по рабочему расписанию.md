### Входные переменные

current_time – текущее время.
work_time_start – время начала рабочего расписания.
work_time_end – время окончания рабочего расписания.
Tset_work – стандартная уставка температуры для рабочего времени (°C).
Tset_off – уставка температуры для нерабочего времени (°C).
Override_timer – таймер хранения ручной уставки во внерабочее время (ч). По умолчанию 2 часа 
Tset_manual – ручная уставка температуры (°C). 
### Выходные переменные

Tset_current – активная уставка температуры (°C). 
Tset_Override – флаг ручного изменения уставки резидентами (0/1).

### Логика работы

Проверяем: work_time_start ≤ current_time < work_time_end?
Да → рабочее время.
Нет → нерабочее время.

Рабочее время:
По умолчанию: Tset_current = Tset_work, Tset_Override = 0.
Если резиденты изменили уставку:
Устанавливается Tset_current = новое значение.
Tset_Override = 1.
Сохраняем до конца рабочего времени.

Нерабочее время:

По умолчанию: Tset_current = Tset_off, Tset_Override = 0.
Если резиденты изменили уставку:
Устанавливается Tset_current = Tset_manual
Tset_Override = 1.
Запускается Override_timer = 2ч.
Если Override_timer > 0 → продолжаем использовать пользовательскую уставку.
Если Override_timer истёк → сбрасываем на Tset_current = Tset_off, Tset_Override = 0.

При наступлении нового рабочего дня (в момент work_time_start):
Всегда сбрасываем уставку на Tset_work.
Tset_Override = 0.

### Блок-схема
```
<mxGraphModel><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" value="Начало" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="460" y="40" width="120" height="60" as="geometry"/></mxCell><mxCell id="3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="7" target="8" parent="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="4" value="ДА" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="3"><mxGeometry x="-0.4667" relative="1" as="geometry"><mxPoint x="-16" as="offset"/></mxGeometry></mxCell><mxCell id="5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="7" target="16" parent="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="6" value="НЕТ" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="5"><mxGeometry x="-0.0444" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="7" value="work_time_start ≤ &lt;br&gt;current_time &amp;lt; &lt;br&gt;work_time_end" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="410" y="160" width="220" height="80" as="geometry"/></mxCell><mxCell id="8" value="Рабочее время:&#10;Tset_current = Tset_work&#10;Tset_Override = 0" style="rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="80" y="160" width="240" height="80" as="geometry"/></mxCell><mxCell id="9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="13" target="15" parent="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="10" value="ДА" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="9"><mxGeometry x="0.2167" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="13" target="26" parent="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="520" y="330"/></Array></mxGeometry></mxCell><mxCell id="12" value="НЕТ" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="11"><mxGeometry x="-0.2478" relative="1" as="geometry"><mxPoint x="-106" y="-46" as="offset"/></mxGeometry></mxCell><mxCell id="13" value="Tset_manual != Tset_work ?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="90" y="290" width="220" height="80" as="geometry"/></mxCell><mxCell id="14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1"><mxGeometry relative="1" as="geometry"><mxPoint x="200" y="410" as="sourcePoint"/><mxPoint x="520" y="580" as="targetPoint"/><Array as="points"><mxPoint x="200" y="660"/><mxPoint x="520" y="660"/></Array></mxGeometry></mxCell><mxCell id="15" value="Tset_Override = 1&#10;Сохраняем до конца рабочего дня" style="rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="100" y="440" width="200" height="80" as="geometry"/></mxCell><mxCell id="16" value="Нерабочее время:&#10;Tset_current = Tset_off&#10;Tset_Override = 0" style="rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="720" y="160" width="240" height="80" as="geometry"/></mxCell><mxCell id="17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="21" target="23" parent="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="18" value="ДА" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="17"><mxGeometry x="-0.14" y="4" relative="1" as="geometry"><mxPoint x="-4" as="offset"/></mxGeometry></mxCell><mxCell id="19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" source="21" target="26" parent="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="520" y="330"/><mxPoint x="520" y="800"/></Array></mxGeometry></mxCell><mxCell id="20" value="НЕТ" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="19"><mxGeometry x="-0.738" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="21" value="Tset_manual&amp;nbsp;≠ Tset_off ?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="730" y="290" width="220" height="80" as="geometry"/></mxCell><mxCell id="22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="23" target="25" parent="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="23" value="Tset_Override = 1&lt;br&gt;Override_timer начинает отсчет&lt;br&gt;Tset_current=Tset_manual&lt;br&gt;Сохраняем уставку" style="rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="740" y="440" width="200" height="80" as="geometry"/></mxCell><mxCell id="24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" source="25" target="26" parent="1"><mxGeometry relative="1" as="geometry"><mxPoint x="520" y="690" as="targetPoint"/><Array as="points"><mxPoint x="840" y="660"/><mxPoint x="520" y="660"/></Array></mxGeometry></mxCell><mxCell id="25" value="Override_timer= 2ч&lt;br&gt;Tset_current = Tset_off&lt;br&gt;Tset_Override = 0" style="rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="740" y="560" width="200" height="80" as="geometry"/></mxCell><mxCell id="26" value="При новом рабочем дне:&#10;Tset_current = Tset_work&#10;Tset_Override = 0" style="rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="420" y="690" width="200" height="80" as="geometry"/></mxCell><mxCell id="27" edge="1" source="2" target="7" parent="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="28" edge="1" source="8" target="13" parent="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="29" edge="1" source="16" target="21" parent="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="30" edge="1" source="26" parent="1"><mxGeometry relative="1" as="geometry"><mxPoint x="520" y="810" as="targetPoint"/></mxGeometry></mxCell></root></mxGraphModel>
```